--- ttyd-1.7.2/CMakeLists.txt.orig
+++ ttyd-1.7.2/CMakeLists.txt
@@ -59,7 +59,17 @@
 endif()
 
 find_package(ZLIB REQUIRED)
-find_package(Libwebsockets 3.2.0 REQUIRED)
+
+if(NOT Libwebsockets_FOUND) # for libwebsockets-dev on ubuntu 16.04
+    find_path(LIBWEBSOCKETS_INCLUDE_DIR NAMES libwebsockets.h)
+    find_library(LIBWEBSOCKETS_LIBRARY NAMES websockets)
+    find_package_handle_standard_args(LIBWEBSOCKETS REQUIRED_VARS LIBWEBSOCKETS_LIBRARY LIBWEBSOCKETS_INCLUDE_DIR)
+    mark_as_advanced(LIBWEBSOCKETS_INCLUDE_DIR LIBWEBSOCKETS_LIBRARY)
+    if(LIBWEBSOCKETS_FOUND)
+        SET(LIBWEBSOCKETS_INCLUDE_DIRS "${LIBWEBSOCKETS_INCLUDE_DIR}")
+        SET(LIBWEBSOCKETS_LIBRARIES "${LIBWEBSOCKETS_LIBRARY}")
+    endif()
+endif()
 
 set(INCLUDE_DIRS ${ZLIB_INCLUDE_DIR} ${LIBWEBSOCKETS_INCLUDE_DIRS} ${JSON-C_INCLUDE_DIRS} ${LIBUV_INCLUDE_DIRS})
 set(LINK_LIBS ${ZLIB_LIBRARIES} ${LIBWEBSOCKETS_LIBRARIES} ${JSON-C_LIBRARIES} ${LIBUV_LIBRARIES})
